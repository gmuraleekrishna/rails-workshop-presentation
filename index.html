<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ruby on Rails</title>
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/league.css">
    <link rel="stylesheet" href="css/custom.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/bash.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/ruby.min.js"></script>
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <!-- Printing and PDF exports -->
    <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h2>Welcome</h2>
                <img src="images/multunus.png" class="logo" />
                <p><a href="http://www.bit.ly/firstslk">http://bit.ly/firstslk</a></p>
            </section>
            <section>
                <p><a href="https://www.ruby-lang.org/en//">Ruby</a></p>
                <img class="logo" src="images/ruby.png" />
            </section>
            <section>
                <p><a href="https://www.ruby-lang.org/en/documentation/installation/#apt">Install Ruby</a></p>
                <pre>
					<code class='bash'>
$ sudo apt-get update
$ sudo apt-get install curl
$ curl -L https://get.rvm.io | bash -s stable
$ rvm install 2.2.2
					</code>
					</pre>
            </section>
            <section>
                <p><a href="https://http://bundler.io/#getting-started">Install Bundler</a></p>
                <pre>
						<code class='bash'>
$ gem install bundler
						</code>
				</pre>
            </section>
            <section>
                <h3>Hello world!</h3>
                <pre class='bash'>
$ irb
irb(main):010:0> def hi
irb(main):011:1> puts "Hello World!"
irb(main):012:1> end

:hi
					</pre>
            </section>
            <section>
                <h3>Function</h3>
                <pre>
						<code class='bash'>
> def hi(name)
> puts "Hello #{name}!"
> end

:hi

> hi("Matz")
Hello Matz!

nil
						</code>
					</pre>
            </section>
            <section>
                <h3>Class</h3>
                <pre>
						<code class='ruby'>
 class Greeter
   def initialize(name = "World")
     @name = name
   end
   def say_hi
     puts "Hi #{@name}!"
   end
   def say_bye
     puts "Bye #{@name}, come back soon."
   end
 end
 						</code>
					</pre>
            </section>
            <section>
                <h3>Object</h3>
                <pre>
						<code class='ruby'>
greeter = Greeter.new("Pat")

greeter.say_hi

Hi Pat!
nil

greeter.say_bye

Bye Pat, come back soon.
nil
						</code>
					</pre>
            </section>
            <section>
                <p><a href="http://rubyonrails.org/">Ruby on Rails</a></p>
                <img class="logo" src="images/ror.png" />
            </section>
            <section>
                <p>Install Rails</a>
                </p>
                <pre><code class='bash'>$ gem install rails -v 5.0.1</code></pre>
            </section>
            <section>
                <h3>Your first App</h3>
                <pre>
						<code class='bash'> 
$ rails _5.0.1_ new hello_world
$ cd hello_world
$ sudo apt-get install nodejs #if there is an error
$ bundle install
$ rails server
					</code>
				</pre>
            </section>
            <section>
                <h3>Your first App</h3>
				<div class='file-path'><span>app/controllers/application_controller.rb</span></div>
                <pre>
						<code class='ruby'> 
 class ApplicationController < ActionController::Base
  protect_from_forgery with: :exception

  def hello
    render html: "hello, world!"
  end
end
						</code>
					</pre>
            </section>
            <section>
                <h3>Routing</h3>
                <div class='file-path'><span>config/routes.rb</span></div>
                <pre>
					<code class='ruby'> 
Rails.application.routes.draw do
root 'application#hello'
end
					</code>
				</pre>
            </section>
            <!-- Version Control -->
            <section>
                <h3>Version Control</h3>
                <pre>
						<code class='bash'>
 $ sudo apt-get install git-all
 $ git config --global user.name "Your Name" 
 $ git config --global user.email your.email@example.com 
				 	</code>
				 </pre>
            </section>
            <!-- Version control -->
            <section>
                <p>Let's make some TweeterÂ©</p>
                <pre>
					<code class='bash'>
$ cd 
$ rails _5.0.1_ new tweeter_app
$ cd tweeter_app
					</code>
				</pre>
                <p>Or</p>
                <pre>
					<code class='bash'>
$ git clone https://github.com/multunus/rails-workshop
					</code>
				</pre>
                <a href="http://bit.ly/rorwsp">bit.ly/rorwsp</a>
            </section>
            <section>
                <h3>Model-View-Controller</h3>
            </section>
            <section>
                <img class="image" src="images/mvc.png">
            </section>
            <section>
                <p>Users</p>
                <table>
                    <tr>
                        <td>id</td>
                        <td>a unique identifier</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>name of the user</td>
                    </tr>
                    <tr>
                        <td>email</td>
                        <td>email id of the user</td>
                    </tr>
                </table>
            </section>
            <section>
                <p>Microposts</p>
                <table>
                    <tr>
                        <td>id</td>
                        <td>a unique identifier</td>
                    </tr>
                    <tr>
                        <td>content</td>
                        <td>content of the post</td>
                    </tr>
                    <tr>
                        <td>user_id</td>
                        <td>the unique identifier of the user</td>
                    </tr>
                </table>
            </section>
            <section>
                <p>Day 1: Let there be light... or User</p>
                <pre>
						<code class='bash'>
$ rails generate scaffold User name:string email:string
$ rake db:migrate
						</code>
					</pre>
            </section>
            <section>
                <p>Routes and Actions for User</p>
                <table>
                    <tr>
                        <td>GET</td>
                        <td>/users</td>
                        <td>index</td>
                        <td>page to list all users</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/users/1</td>
                        <td>show</td>
                        <td>page to show user with id 1</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/users/new</td>
                        <td>new</td>
                        <td>page to make a new user</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/users/1/edit</td>
                        <td>edit</td>
                        <td>page to edit user with id 1</td>
                    </tr>
                </table>
            </section>
            <section>
                <p>More Actions</p>
                <table>
                    <tr>
                        <td>POST</td>
                        <td>/users</td>
                        <td>create</td>
                        <td>create a new user</td>
                    </tr>
                    <tr>
                        <td>PATCH</td>
                        <td>/users/1</td>
                        <td>update</td>
                        <td>update a user 1</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/users/1</td>
                        <td>destroy</td>
                        <td>delete user with id 1</td>
                    </tr>
                </table>
            </section>
            <section>
                <p>Magically a route appears!</p>
				<div class='file-path'><span>config/routes.rb</span></div>
                <pre>
					<code class='ruby'>
Rails.application.routes.draw do
	resources :users 
end
				</code>
			</pre>
            </section>
            <section>
                <p>Day 2: And the User was without Micropost</p>
                <pre>
					<code class='bash'>
$ rails generate scaffold Micropost content:text user_id:integer
$ rake db:migrate
					</code>
					</pre>
            </section>
            <section>
                <p>Routes and Actions for Micropost</p>
                <table>
                    <tr>
                        <td>GET</td>
                        <td>/microposts</td>
                        <td>index</td>
                        <td>page to list all microposts</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/microposts/1</td>
                        <td>show</td>
                        <td>page to show post with id 1</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/microposts/new</td>
                        <td>new</td>
                        <td>page to make a new post</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/microposts/1/edit</td>
                        <td>edit</td>
                        <td>page to edit post with id 1</td>
                    </tr>
                </table>
            </section>
            <section>
                <p>More Actions</p>
                <table>
                    <tr>
                        <td>POST</td>
                        <td>/microposts</td>
                        <td>create</td>
                        <td>create a new post</td>
                    </tr>
                    <tr>
                        <td>PATCH</td>
                        <td>/microposts/1</td>
                        <td>update</td>
                        <td>update a post 1</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/microposts/1</td>
                        <td>destroy</td>
                        <td>delete post with id 1</td>
                    </tr>
                </table>
            </section>
            <section>
                <p>(Not so) Magically a route appears!</p>
				<div class='file-path'><span>config/routes.rb</span></div>
                <pre>
					<code class='ruby'>
Rails.application.routes.draw do
  resources :microposts #new resource
  resources :users
end
					</code>	
				</pre>
            </section>
            <section>
                <p>Where the @#$%! is my <b>micro</b> post?</p>
				<div class='file-path'><span>app/models/micropost.rb</span></div>
                <pre>
					<code class='ruby'>
class Micropost < ApplicationRecord
		validates :content, length: { maximum: 140 }
end
					</code>
				</pre>
            </section>
            <section>
                <p>But, User <em>has many</em> Micropost!</p>
				<div class='file-path'><span>app/models/user.rb</span></div>
                <pre>
					<code class='ruby'>
class User < ApplicationRecord
  has_many :microposts
end
					</code>
				</pre>
            </section>
            <section>
                <p>And a Micropost <em>belongs to</em> a User</p>
				<div class='file-path'><span>app/models/micropost.rb</span></div>
                <pre>
					<code class='ruby'>
class Micropost < ApplicationRecord
  belongs_to :user #microposts belongs to user
  validates :user, presence: true # micropost exists only if user exist
  validates :content, length: { maximum: 140 }
end					
					</code>
				</pre>
            </section>
            <section>
                <p>Association</p>
                <img src="images/association.png" class="small image">
            </section>
            <section>
                <p>Why u no type content?</p>
				<div class='file-path'><span>app/models/micropost.rb</span></div>
                <pre>
					<code class='ruby'>
class Micropost < ApplicationRecord
  belongs_to :user
  validates :user, presence: true 
  validates :content, length: { maximum: 140 }, presence: true # micropost should have some content
end
					</code>
				</pre>
            </section>
            <section>
                <p>Static pages? Rails can do that for you</p>
                <pre>
                	<code class='bash'>
$ rails generate controller StaticPages home help
                	</code>
				</pre>
            </section>
            <section>
                <p>Static pages</p>
                <div class='file-path'><span>config/routes.rb</span></div>
                <pre>
					<code class='ruby'>
Rails.application.routes.draw do
  get  'static_pages/home'
  get  'static_pages/help'
  root 'application#hello'
end					
					</code>
				</pre>
            </section>
            <section>
				<div class='file-path'><span>app/views/static_pages/home.html.er</span></div>
                <pre>
					<code class='html'>
<h1>Welcome to Tweeter</h1>
<p>
  This is the home page for my Twitter application.
</p>
<%= link_to 'New User', new_user_path %>

<%= link_to 'New Micropost', new_micropost_path %>
					</code>
				</pre>
            </section>
            <section>
                <h2>Arigatho... Sayonara...</h2>
                <img src="images/multunus.png" class="logo" />
                <p><a href="http://www.bit.ly/firstghb">http://bit.ly/firstghb</a></p>
            </section>
        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [{
            src: 'plugin/markdown/marked.js'
        }, {
            src: 'plugin/markdown/markdown.js'
        }, {
            src: 'plugin/notes/notes.js',
            async: true
        }, {
            src: 'plugin/highlight/highlight.js',
            async: true,
            callback: function() {
                hljs.initHighlightingOnLoad();
            }
        }]
    });
    </script>
</body>

</html>
